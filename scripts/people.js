/**
 * @file DTPS course user list screen
 * @author jottocraft
 * 
 * @copyright Copyright (c) 2018-2020 jottocraft. All rights reserved.
 * @license GPL-2.0-only
 */
dtps.usersList=function(s){var e=dtps.classes.map(s=>s.id).indexOf(s);dtps.selectedClass=e,dtps.selectedContent="people",$("#dtpsTabBar .btn").removeClass("active"),$("#dtpsTabBar .btn.people").addClass("active"),dtps.presentClass(e),dtps.showClasses(),-1==e&&dtps.error("The selected class doesn't exist","classNum check failed @ dtps.usersList"),dtps.selectedClass==e&&"people"==dtps.selectedContent&&jQuery(".classContent").html('<div class="spinner"></div>'),dtpsLMS.fetchUsers(dtps.classes[e].id).then((function(s){dtps.selectedClass==e&&"people"==dtps.selectedContent&&(s&&0!=s.length?jQuery(".classContent").html(s.map(s=>`\n                        <div class="card">\n                            <h5><b>${s.title}</b></h5>\n                            ${s.users.map(s=>`\n                                    <div>\n                                        <p>\n                                            <img style="width: 30px; border-radius: 50%; vertical-align: middle; margin-right: 5px;" src="${s.photoURL}" />\n                                            <a href="${s.url}" style="color: var(--text); vertical-align: middle;">${s.name}</a>\n                                        </p>\n                                    </div>\n                                `).join("")}\n                        </div>\n                    `).join("")):jQuery(".classContent").html('\n                    <div style="cursor: auto;" class="card assignment">\n                        <h4>Error</h4>\n                        <p>Power+ could not get the list of people in this course</p>\n                    </div>\n                '))})).catch((function(s){dtps.error("Couldn't fetch users","Caught promise rejection @ dtps.usersList",s)}))},fluid.externalScreens.people=s=>{dtps.usersList(s)};
//# sourceMappingURL=/scripts/people.js.map