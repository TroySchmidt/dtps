/**
 * @file DTPS course user list screen
 * @author jottocraft
 * 
 * @copyright Copyright (c) 2018-2020 jottocraft. All rights reserved.
 * @license GPL-2.0-only
 */
dtps.usersList=function(e){var s=dtps.classes.map(e=>e.id).indexOf(e);dtps.selectedClass=s,dtps.selectedContent="people",$("#dtpsTabBar .btn").removeClass("active"),$("#dtpsTabBar .btn.people").addClass("active"),-1==s&&dtps.error("The selected class doesn't exist","classNum check failed @ dtps.usersList"),dtps.presentClass(s),dtps.selectedClass==s&&"people"==dtps.selectedContent&&jQuery(".classContent").html('<div class="spinner"></div>'),dtpsLMS.fetchUsers(dtps.classes[s].id).then((function(e){dtps.selectedClass==s&&"people"==dtps.selectedContent&&(e&&0!=e.length?jQuery(".classContent").html(e.map(e=>`\n                        <div class="card">\n                            <h5><b>${e.title}</b></h5>\n                            ${e.users.map(e=>`\n                                    <div>\n                                        <p>\n                                            <img style="width: 30px; border-radius: 50%; vertical-align: middle; margin-right: 5px;" src="${e.photoURL}" />\n                                            <a href="${e.url}" style="color: var(--text); vertical-align: middle;">${e.name}</a>\n                                        </p>\n                                    </div>\n                                `).join("")}\n                        </div>\n                    `).join("")):jQuery(".classContent").html('\n                    <div style="cursor: auto;" class="card assignment">\n                        <h4>Error</h4>\n                        <p>Power+ could not get the list of people in this course</p>\n                    </div>\n                '))})).catch((function(e){dtps.error("Couldn't fetch users","Caught promise rejection @ dtps.usersList",e)}))},fluid.externalScreens.people=e=>{dtps.usersList(e)};
//# sourceMappingURL=/scripts/people.js.map